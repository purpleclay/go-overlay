name: golangci-lint-update
on:
  schedule:
    - cron: "0 */4 * * *"
  workflow_dispatch:

jobs:
  golangci-lint:
    uses: ./.github/workflows/tool-update.yml
    with:
      module: github.com/golangci/golangci-lint/v2
      sub-packages: cmd/golangci-lint
      manifest-dir: manifests/golangci-lint
      tool-name: golangci-lint
    secrets:
      token: ${{ secrets.GH_NSV }}
      gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}
      gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}
      cachix-token: ${{ secrets.GH_CACHIX }}
